---
title: 设计模式之单例模式
date: 2019-06-16
tags:
 - 设计模式
categories:
 - skill
---

## 单例模式

### 类型

> 单例模式是建造行为模式

### 定义

> 单例就是单个实例。在java中，指的是一个类的只有一个实例对象，并且该类提供全局唯一的对外访问方法。

### 结构和实现

单例主要有单例类和调用类两个角色
> 单例类： 包含一个该类的实例（静态私有），并且可以自行创建该实例，提供对外的访问方式。
> 调用类： 通过单例类提供的访问方法，进行调用该实例的类。

#### 饿汉模式

饿汉模式是指在单例类一开始加载就创建好该类的实例，保证其他调用类使用该单例之前就存在可用的单例。

```

/**
 * 单例模式之饿汉模式
 *
 * 饿汉模式是指在类加载之初就创建该类的实例，并提供对外访问的接口
 *
 * 模式的特点是类一旦加载就创建一个单例，采用 static final关键字修饰，表示在类创建好的同时就会实例化好的，以后不会再变，所以是线程安全的。
 *
 * 但是它有一定的缺陷，那就是在一开始并不是所有的单例类都会被用到，这就导致会浪费一定的空间创建这些单例。
 */
public class HungrySingleton {

    private static final HungrySingleton hungrySingleton = new HungrySingleton();

    public static HungrySingleton getInstance(){
        return hungrySingleton;
    }

}
```

#### 懒汉模式


#### 线程安全和不安全

#### 双重枷锁

#### 静态内部类持有


### 优点

### 缺点

### 使用场景

### 扩展

volatile关键字

synchronized关键字
